# ДЗ по инфраструктуре:
@Lapxi010 - телега для связи

## Для коммитов локально настроен commitlint вместе с husky

Коммиты должны соответсвовать [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/)

## Для тестов есть специальный workflow test-ci-for-pr.yml

Он начинает свою работу при пулл реквестах и при появление релизного тега

Он работает следующим образом:

- Для каждого типа тестов устанавливаюься зависимости
- Запускается unit-tests и e2e-tests
- В результате работы остаются артефакты которые можно посмотреть на странице actions

## Для релиза есть специальный workflow release.yml

Он работает следующим образом:

- Запускается при появление нового релизного тега в формате v<число>
- Сразу запускается workflow для тестов, если тесты будут не пройдены, то на этом релиз завершится
- После этого происходит создание новой ветки с названием release-v<число>
- Потом происходит создание реестра релизов (issue)
- Если реестр успешно создан, то проиcходит деплой приложений с помощью специального workflow deploy.yml
- Если депорй произошел успешно, то просиходит добавление коментаррия в реестр об успешном прохождение деплоя
- Потом issue автоматически закрывается

На этом все. Буду рад если ты отревьювишь мой ci! :) :)

В этом репозитории находится пример приложения с тестами:

- [e2e тесты](e2e/example.spec.ts)
- [unit тесты](src/example.test.tsx)

рb

Для запуска примеров необходимо установить [NodeJS](https://nodejs.org/en/download/) 16 или выше.

Как запустить:

```sh
# установить зависимости
npm ci

# запустить приложение
npm start
```

Как запустить e2e тесты:

```sh
# скачать браузеры
npx playwright install

# запустить тесты
npm run e2e
```

Как запустить модульные тесты:

```sh
npm test
```
